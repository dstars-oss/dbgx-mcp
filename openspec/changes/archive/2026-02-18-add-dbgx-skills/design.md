## 上下文

当前仓库已有 `dbgx-mcp` 的实现与 OpenSpec 流程，但缺少稳定、可复用的操作技能规范。近期在 TTD 场景中反复出现 `dx ...SeekTo()` 卡住问题，团队已经形成了可行替代实践（`TimeStart` 查询 + `!tt` 跳转），需要统一沉淀到一个通用技能，避免经验分散和重复试错。

## 目标 / 非目标

**目标：**
- 提供一个统一的 `dbgx-skills` 技能，覆盖 `dbgx-mcp` 常见执行策略与稳定跳转流程。
- 将 TTD 高风险操作的替代路径写成标准步骤，确保可直接复用。
- 让技能内容可被后续会话稳定触发和复现。
- 明确该变更不要求测试执行。

**非目标：**
- 不修改 `dbgx-mcp` 的 C++ 运行时代码。
- 不新增或调整 MCP 协议字段。
- 不引入自动命令改写、自动重试或调度机制。

## 决策

### 决策 1：采用单一通用技能 `dbgx-skills`
- 方案：使用 `.codex/skills/dbgx-skills/SKILL.md` 作为统一入口，覆盖执行与 TTD 导航流程。
- 理由：比多个单点技能更易触发、更易维护，减少上下文分裂。
- 替代方案：
  - 保留多个细分技能：维护成本高，用户需手动选择，触发不稳定。
  - 只保留历史对话经验：不可复用，无法作为工程资产沉淀。

### 决策 2：将 `SeekTo` 规避策略设为默认路径
- 方案：默认不直接执行 `dx ...SeekTo()`；改为两步流程（查询位置 -> `!tt` 跳转）。
- 理由：已在当前项目上下文中实测可行，能降低长时间阻塞概率。
- 替代方案：
  - 继续直接使用 `SeekTo()`：风险高，稳定性不可控。
  - 仅靠中断机制兜底：不能替代前置规避，且中断行为在不同会话下不稳定。

### 决策 3：以文档变更完成本次交付，不附带测试要求
- 方案：本变更仅提交技能文档与 OpenSpec 产出物，tasks 中标注无需测试。
- 理由：需求本身是经验固化与流程规范，不涉及可执行逻辑变更。
- 替代方案：
  - 增加自动化测试：当前对象是技能文档，不具备直接自动化断言价值。

## 风险 / 权衡

- [风险] 技能内容与实际调试器行为可能随版本演进偏离  
  → 缓解：将技能定位为“默认策略 + 可验证步骤”，并通过 OpenSpec 迭代更新。

- [风险] 用户在复杂场景仍直接调用高风险命令  
  → 缓解：在技能中明确“默认禁止直接 `SeekTo()`”并提供替代命令模板。

- [权衡] 不做运行时代码改造，无法从根上消除 dbgeng 内部阻塞  
  → 缓解：本次目标是先标准化操作规避路径，后续可独立提案处理引擎级治理。
